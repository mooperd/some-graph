<!doctype html>
<meta charset="utf-8">
 
<script src="http://www.d3plus.org/js/d3.js"></script>
<script src="http://www.d3plus.org/js/d3plus.js"></script>
 
<div id="viz"></div>
 
<script>

// this array sets the main systems that will always be with us
  var component_systems = [
    {"name": "Angel", "size": 10},
    {"name": "Banana", "size": 10},
    {"name": "Banoffee", "size": 10},
    {"name": "Baumkuchen", "size": 10},
    {"name": "Brownie", "size": 10},
  ]

// This array describes a particular process
  var new_user = [
    {"source": "Angel", "target": "Banana", "strength": "impatient.llama()"},
    {"source": "Banana", "target": "Banoffee", "strength": "difficult.duck()"},
    {"source": "Banoffee", "target": "Baumkuchen", "strength": "mr.bungle()"},
    {"source": "Baumkuchen", "target": "Brownie", "strength": "wibble()"}
  ]

// This array describes another particular process
  var kill_user = [
    {"source": "Banana", "target": "Angel", "strength": "funk"},
    {"source": "Angel", "target": "Baumkuchen", "strength": "soul"},
    {"source": "Angel", "target": "Banoffee", "strength": "disco"},
    {"source": "Angel", "target": "Brownie", "strength": "disco"}
  ]

  var visualization = d3plus.viz()
    .id("name") // I dont understand why this has to be set.
    .container("#viz")
    .type("network") // Sets the type of visualisation
    .data(component_systems)  // define our nodes
    .edges({ // define how the nodes link together with edges 
      "label": "strength", 
      "value": new_user,
      "arrows": true
    })
    .ui([ // this ui function is meant to change the process defined in .edges but it is currently not working properly. 
      {
        "method" : "edges",
        "type" : "auto",
        "value": [{"Kill User": new_user}, {"New User": kill_user}]
      }
    ])
    .draw()

</script>
